<div class="mat-elevation-z8" style="overflow-x:auto;">
  <table mat-table [dataSource]="dataSource" style="width:100%;" matSort>
    <!-- Username Column -->
    <ng-container matColumnDef="username">
      <th mat-header-cell *matHeaderCellDef> 
	  <span mat-sort-header arrowPosition="before" style="float:left;">
		Username
		<button mat-button class="btn-toggle" [matMenuTriggerFor]="menu" (click)="$event.stopPropagation()">
			<mat-icon>keyboard_arrow_down</mat-icon>
		</button>
	  </span>
		<mat-menu #menu>
          <div mat-menu-item mat-filter-item [disableRipple]="true">
            <mat-form-field>
              <mat-select [panelClass]="'mat-elevation-z10'" placeholder='Conditions' [(value)]="searchCondition.username">
                <mat-option *ngFor="let  condition of conditionsList" [value]="condition.value">{{condition.label}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div mat-menu-item mat-filter-item [disableRipple]="true">
            <mat-form-field>
              <input matInput placeholder="Value" [(ngModel)]="searchValue.username">
            </mat-form-field>
          </div>
          <div mat-menu-item mat-filter-item [disableRipple]="true">
            <button mat-raised-button (click)="clearColumn('username')" style="width:50%">Clear</button>
            <button mat-raised-button color="primary" (click)="applyFilter()" style="width:50%">Search</button>
          </div>
		  <div mat-menu-item mat-filter-item [disableRipple]="true">
		  <button mat-raised-button (click)="clearFilters()" style="width:100%">Clear All</button>
		  </div>
        </mat-menu>
	  </th> 
      <td mat-cell *matCellDef="let data" data-label="username">  {{data.username}} </td>
    </ng-container>
	
    <!-- Email Column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef> 
	  <span mat-sort-header arrowPosition="before" style="float:left;">
		Email
		<button mat-button class="btn-toggle" [matMenuTriggerFor]="menu" (click)="$event.stopPropagation()">
			<mat-icon>keyboard_arrow_down</mat-icon>
		</button>
	  </span>
		<mat-menu #menu>
          <div mat-menu-item mat-filter-item [disableRipple]="true">
            <mat-form-field>
              <mat-select [panelClass]="'mat-elevation-z10'" placeholder='Conditions' [(value)]="searchCondition.email">
                <mat-option *ngFor="let  condition of conditionsList" [value]="condition.value">{{condition.label}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div mat-menu-item mat-filter-item [disableRipple]="true">
            <mat-form-field>
              <input matInput placeholder="Value" [(ngModel)]="searchValue.email">
            </mat-form-field>
          </div>
          <div mat-menu-item mat-filter-item [disableRipple]="true">
            <button mat-raised-button (click)="clearColumn('email')" style="width:50%">Clear</button>
            <button mat-raised-button color="primary" (click)="applyFilter()" style="width:50%">Search</button>
          </div>
		  <div mat-menu-item mat-filter-item [disableRipple]="true">
		  <button mat-raised-button (click)="clearFilters()" style="width:100%">Clear All</button>
		  </div>
        </mat-menu>
	  </th>
      <td mat-cell *matCellDef="let data" data-label="email">  {{data.email}} </td>
    </ng-container>
	
    <!-- actions -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>
	  <span arrowPosition="">Action</span>
      </th>

      <td mat-cell *matCellDef="let row; let i=index;" data-label="action">
		<button mat-icon-button color="accent" (click)="unable(i, row.username, row.email)" *ngIf="data[i].disabled">
          <mat-icon aria-label="Edit">check</mat-icon>
        </button>
		
		<button mat-icon-button color="accent" (click)="disable(i, row.username, row.email)" *ngIf="!data[i].disabled">
          <mat-icon aria-label="Delete">close</mat-icon>
        </button>
      </td>

    </ng-container>
	
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
</div>